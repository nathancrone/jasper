!function(){"use strict";angular.module("app",["ngAria","mm.foundation","app.my","app.out","app.in"]).config(["$routeProvider",function(e){e.otherwise({redirectTo:"/my"})}]).controller("MainCtrl",["$scope","$location","$routeParams","app.data",function(e,t,r,n){e.currentTab=t.url().slice(1).split("/")[0],e.tabSelected=function(t){return e.currentTab==t},e.tabNavigate=function(e){t.url("/"+e)},e.$on("$locationChangeSuccess",function(r){e.currentTab=t.url().slice(1).split("/")[0]})}])}(),function(){"use strict";angular.module("app").factory("app.data",["$http",function(e){var t=function(){return e.get($("#JSON_TerritoryOutByUserId").attr("href")).then(function(e){return e.data})},r=function(){return e.get($("#JSON_TerritoryOut").attr("href")).then(function(e){return e.data})},n=function(){return e.get($("#JSON_TerritoryIn").attr("href")).then(function(e){return e.data})},o=function(){return e.get($("#JSON_UserAll").attr("href")).then(function(e){return e.data})},c=function(t){var r={method:"POST",url:$("#CheckOut").attr("href"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(t)};return e(r).then(function(e){return e.data})},i=function(t){var r={method:"POST",url:$("#CheckIn").attr("href"),headers:{"Content-Type":"application/x-www-form-urlencoded"},data:$.param(t)};return e(r).then(function(e){return e.data})};return{territoryOutByUserId:t,territoryOut:r,territoryIn:n,userAll:o,checkOut:c,checkIn:i}}])}(),function(){"use strict";angular.module("app.in",["ngRoute"]).config(["$routeProvider",function(e){e.when("/in",{templateUrl:"views/index-template-in.html",controller:"InCtrl"})}]).controller("InCtrl",["$scope","$location","$route","$routeParams","$modal","app.data",function(e,t,r,n,o,c){e.selectedTerritory=null,c.territoryIn().then(function(t){e.territories=t},function(){}),e.checkOut=function(t,n,i,a){e.selectedTerritory=t;var u={templateUrl:"views/index-template-incheckout.html",resolve:{selectedTerritory:function(){return e.selectedTerritory}},controller:["$scope","$modalInstance","selectedTerritory",function(e,t,r){e.users=[],e.selectedTerritory=r,e.data={selectedUser:null,CheckOutDate:null},c.userAll().then(function(t){e.users=t},function(){}),e.reposition=function(){t.reposition()},e.ok=function(){t.close({selectedTerritory:e.selectedTerritory,selectedUser:e.data.selectedUser,CheckOutDate:e.data.CheckOutDate})},e.cancel=function(){t.dismiss("cancel")}}]};angular.isDefined(a)&&(u.closeOnClick=a),angular.isDefined(n)&&(u.size=n),angular.isDefined(i)&&(u.backdrop=i);var s=o.open(u);s.result.then(function(t){c.checkOut({TerritoryId:t.selectedTerritory.TerritoryId,UserId:t.selectedUser.Id,CheckOutDate:t.CheckOutDate}).then(function(t){e.Response=t,e.showSuccess=!t.Error,e.showError=t.Error,e.alertMessage=t.Message,r.reload()},function(t){e.Response=t,e.showSuccess=!1,e.showError=!0,e.alertMessage="There was an error checking out the territory."})},function(){})},e.closeAlert=function(){e.showSuccess=!1,e.showError=!1,e.alertMessage=""}}])}(),function(){"use strict";angular.module("app.my",["ngRoute"]).config(["$routeProvider",function(e){e.when("/my",{templateUrl:"views/index-template-my.html",controller:"MyCtrl"})}]).controller("MyCtrl",["$scope","$location","$route","$routeParams","app.data",function(e,t,r,n,o){}])}(),function(){"use strict";angular.module("app.out",["ngRoute"]).config(["$routeProvider",function(e){e.when("/out",{templateUrl:"views/index-template-out.html",controller:"OutCtrl"})}]).controller("OutCtrl",["$scope","$location","$route","$routeParams","$modal","app.data",function(e,t,r,n,o,c){e.sortExpression=["CheckOutDate",["Territory.TerritoryCode"]],e.selectedTerritory=null,e.sortBy=function(t){e.sortExpression=t},c.territoryOut().then(function(t){e.territories=t},function(){}),e.checkIn=function(t,n,i,a){e.selectedTerritory=t;var u={templateUrl:"views/index-template-outcheckin.html",resolve:{selectedTerritory:function(){return e.selectedTerritory}},controller:["$scope","$modalInstance","selectedTerritory",function(e,t,r){e.selectedTerritory=r,e.data={CheckInDate:null},e.reposition=function(){t.reposition()},e.ok=function(){t.close({selectedTerritory:e.selectedTerritory,CheckInDate:e.data.CheckInDate})},e.cancel=function(){t.dismiss("cancel")}}]};angular.isDefined(a)&&(u.closeOnClick=a),angular.isDefined(n)&&(u.size=n),angular.isDefined(i)&&(u.backdrop=i);var s=o.open(u);s.result.then(function(t){c.checkIn({TerritoryId:t.selectedTerritory.TerritoryId,CheckInDate:t.CheckInDate}).then(function(t){e.Response=t,e.showSuccess=!t.Error,e.showError=t.Error,e.alertMessage=t.Message,r.reload()},function(t){e.Response=t,e.showSuccess=!1,e.showError=!0,e.alertMessage="There was an error checking in the territory."})},function(){})}}])}();